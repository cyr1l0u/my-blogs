---
title: Safe map
date: 2023-10-20 15:20:27
permalink: /pages/6855f1/
categories:
  - 语言
  - Go
tags:
  - 
author: 
  name: erlangtui
  link: https://github.com/erlangtui
---

## 一、基本原理
* 

## 二、基本用法
### 1，Map
```go
type Map struct {
	mu      Mutex
	read    atomic.Value
	dirty   map[interface{}]*entry
	misses  int
}
```
* Map 是一个结构体类型，其内部字段都是私有的，不可直接访问；
* 使用时可像其他类型一样直接使用，不用单独加锁，如：`var m sync.Map` ；
### 2，Load
* `func (m *Map) Load(key interface{}) (value interface{}, ok bool)`
* Load 返回存储在 map 中对应键的值，如果不存在该键值，则返回 nil。ok 表示是否在 map 中找到该 key 对应的值；
* 如：`val, ok := m.Load("aaa")` ；

### 3，Store
* `func (m *Map) Store(key, value interface{})`
* Store 将 key、value 这个键值对存到 m 中；
* 如

### 4，加载并删除

### 5，删除

### 6，遍历


## 三、源码解读
---
title: C++多态
date: 2023-08-22 21:25:27
permalink: /pages/7ff72e/
categories:
  - 语言
  - C++
tags:
  - 
author: 
  name: erlangtui
  link: https://github.com/erlangtui
---

## 一、虚函数

## 二、虚析构

## 三、多态

## 四、虚继承

## 五、虚表指针

虚函数表（Virtual Function Table），简称为 vtable，是C++中实现多态性（polymorphism）的关键机制之一。

在C++中，当一个类被声明为虚类时（通过使用关键字`virtual`），它可以包含一个或多个虚函数。虚函数是可以在派生类中被重写（覆盖）的函数。为了支持动态绑定（dynamic binding）和运行时多态性，编译器会为每个含有虚函数的类生成一个虚函数表。

虚函数表实际上是一个特殊的数据结构，它是一个存储着指向虚函数的指针数组。每个包含虚函数的类都有自己的虚函数表，在对象实例化时会为其分配内存，并且在对象的地址空间中保存对应的虚函数表指针。

当使用基类指针或引用来调用虚函数时，实际执行的是派生类中重写的虚函数。这是因为编译器会根据对象的实际类型，在虚函数表中查找对应的函数指针，并调用正确的函数。

对于每个派生类，虚函数表的结构是相似的，但其中的函数指针被替换为派生类中的具体函数。这就允许了在继承关系中进行动态绑定，使得程序能够根据实际对象的类型来调用相应的函数。

总结一下，虚函数表是C++中用于支持多态性的一种机制。它是存储着指向虚函数的指针数组，允许通过基类指针或引用来调用派生类中实现的虚函数，从而实现动态绑定和运行时多态性。